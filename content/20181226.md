Title: 環境構築メモつづき
Date: 2018-12-26 23:00
Category: Python
Tags: pelican, python, git
Slug: environment-setting2
Author: mietaku
Summary: ペリカン環境構築めも2

# 環境構築メモ2

前回の続き

記事は、`content/` 以下にマークダウン形式で書く

例）content/20181222.md

```
Title: はじめてのペリカン
Date: 2018-12-22 18:55
Category: Python
Tags: pelican, python
Slug: first-post
Author: hogehoge
Summary: はじめてのペリカン

# Pelican で書いてみた

ブログサイトが作れる Python モジュール Pelican を使ってみた。

サーバーは持っていないので、Github Pages で公開させてもらってます。

キーワード

- pelican
- pyhton
- github.io

 ```python
 print "I'm not pelican."
 ```
```

## github.io への push

make html で公開htmlをビルド

`$ make html`

ghp-import コマンドで output/ ディレクトリを指定する。  
すると gh-pages というブランチが作成され、output/ 以下が管理される

`$ ghp-import output/`

-f オプションを付与し、master ブランチに強制プッシュ  
github.io の仕様上、master ブランチの内容が公開される（？要確認）

`$ git push -f origin gh-pages:master`

## テーマ

デフォルトのテーマはあまりかっこよくないので、  
サードパーティ製のテーマをインストールして使っている。  
以下から clone する

- https://github.com/getpelican/pelican-themes

適当な場所に置いて、`pelicanconf.py` 内で読み込む設定をする

```python
THEME = "./pelican-themes/fresh"
```

おおまかなディレクトリ構成は以下のとおり

```
.
├── Makefile
├── README.md
├── content
│   ├── 20181222.md
│   ├── 20181225.md
│   └── 20181226.md
├── output
│   ├── index.html
│   ├── tags.html
│   ├── (snip)
│   └── theme
│       └── (snip)
├── pelican-themes
│   └── fresh
│       └── (snip)
├── pelicanconf.py
├── publishconf.py
└── tasks.py
```
